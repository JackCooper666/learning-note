## ✅ 一、ROI（Region of Interest）数学原理

### 🎯 什么是 ROI？

> ROI，全称 **Region of Interest（感兴趣区域）**，本质上是指在图像或矩阵中围绕某个中心点 $P$ 提取的一个小区域（邻域窗口）。

在你当前的 LiDAR 点云处理中，ROI 是在**range image（距离图）**中选取的一个小的二维邻域区域，如下图所示：
```less
     col
  +---------→
  |
  |    [ ][ ][ ]
  |    [ ][P][ ]
  |    [ ][ ][ ]
  ↓
 row

```
假设中心点 $P=(r,c)$，ROI 就是以它为中心的一个 $(2N + 1) \times (2M + 1)$ 区域。

---

### 🧮 你在做什么？

你在做的是：  
对于某点 P，在其 ROI 中计算 **每个邻居点与中心点的深度差**，也即：
$$
\Delta d_{jk} = r_P - r_{jk}​
$$
然后：

- **计算这些差值的平均值**
    
- 或者 **找出每个方向上的最小深度跳变**
    

---

### 📌 数学用途：

1. **衡量深度变化程度（用于飞点检测）**
    $$
    \text{Smoothness}(P) = \frac{1}{N} \sum |r_P - r_{jk}|
    $$  
2. **找出某方向是否发生强跳变**
    
    - $\min |\Delta d| > \text{阈值} \Rightarrow 飞点$
        

---

### 📍 总结 ROI 的数学意义：

> ROI 是一个离散区域采样，计算点 $P$ 与其邻域之间的深度结构，从而判断其“平滑性”或“跳变性”。